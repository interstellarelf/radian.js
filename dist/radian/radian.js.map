{"version":3,"sources":["../../concat/radian.js"],"names":["Radian","create_id","Date","now","Math","random","object","undefined","target","frames","Easing","Keyframes","Effects","resourceTypes","getTarget","resolve_target","radian_id","id","guid","RFrame","rotations","get_target_id","type","CreateFrameSequence","oncreate","frameSequence","FrameSequence","load","resourceType","url","define","name","create","bind","call","globalInterpolation","push","value","ValidateFrameOptions","options","eval_option_name","x","includes","required_keys","forEach","k","Object","keys","RequiredOptionError","OptionError","Keyframe","console","log","info","enterCurve","exitCurve","flat","smooth","duration","complete","update"],"mappings":"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","file":"radian.js","sourcesContent":["/****************************************\r\n * Radian {}\r\n *   operates animations by selecting, changing one object at a time\r\n *   uses one FrameSequence at a time\r\n *   one effects module for pixel-effects\r\n ****************************************/\r\nlet Radian = {\r\n\r\n  create_id: function() {\r\n    return new Date().now() + '-' + Math.random() * 1000;\r\n  },\r\n\r\n  object: undefined,\r\n\r\n  target: undefined,\r\n\r\n  frames: [],\r\n\r\n  Easing: 'MY_EASING_MODULE',\r\n\r\n  Keyframes: 'MY_INTERPOLATION_MODULE',\r\n\r\n  Effects: 'MY_PIXEL_EFFECTS_MODULE',\r\n\r\n  resourceTypes: ['human-2d', 'sprite-2d', 'quadroped-2d', 'worm-2d'],\r\n\r\n  getTarget() {\r\n    return this.target;\r\n  },\r\n\r\n  resolve_target(target) {\r\n    if (typeof target == 'object')\r\n      return target.radian_id || target.id || target.guid;\r\n    if (typeof target == 'string')\r\n      return target;\r\n  },\r\n\r\n  RFrame(target, rotations, ) {\r\n    let id = this.get_target_id(target);\r\n    return {\r\n      target: id,\r\n      type: 'RFrame'\r\n    }\r\n  },\r\n\r\n  CreateFrameSequence(oncreate) {\r\n    oncreate = oncreate || function() {};\r\n    var frameSequence = new FrameSequence(oncreate);\r\n    return frameSequence;\r\n  },\r\n\r\n  load(resourceType, url) {\r\n    //load the animation and return a callable async module\r\n\r\n  },\r\n\r\n  define(name, create) {\r\n    this.frames = new FrameSequence(this.frames);\r\n    this.frames.name = name || '*untitled';\r\n    create.bind(this.frames).call();\r\n  }\r\n};;//FrameSequence\r\nclass FrameSequence {\r\n  constructor(oncreate) {\r\n    this.globalInterpolation = false;\r\n    this.frames = [];\r\n    oncreate.bind(this).call();\r\n  }\r\n  add(object) {\r\n    this.frames.push(object);\r\n    return this;\r\n  }\r\n  GlobalInterpolation(value) {\r\n    this.globalInterpolation = value;\r\n    return this;\r\n  }\r\n};function ValidateFrameOptions(options) {\r\n\r\n  let eval_option_name = (x) => {\r\n    return ['option-1', 'option-2'].includes(x)\r\n  }\r\n  let required_keys = (x) => {\r\n    return ['required-1', 'required-2']\r\n  }\r\n\r\n  required_keys().forEach((k) => {\r\n    if (!(Object.keys(options).includes(k))) {\r\n      throw new RequiredOptionError('required option:' + k);\r\n    }\r\n    return true;\r\n  });\r\n\r\n  for (var x in options) {\r\n    if (!eval_option_name(x)) {\r\n      throw new OptionError('bad option:' + x);\r\n    }\r\n  }\r\n  return true;\r\n};\r\n\r\nclass Keyframe {\r\n  constructor() {\r\n    console.log('Keyframe::' + 'constructor()');\r\n  }\r\n  Object(object) {\r\n    this.object = object;\r\n    return this;\r\n  }\r\n  Target(target) {\r\n    this.target = target;\r\n    return this;\r\n  }\r\n  Curve() {\r\n    console.info('TODO', 'complete curve fxn');\r\n    return this;\r\n  }\r\n  Within() {\r\n    console.info('TODO', 'complete within fxn');\r\n    return this;\r\n  }\r\n  Options(options) {\r\n\r\n    console.info('TODO', 'complete and apply here --valiateOptions fxn');\r\n\r\n    return this;\r\n\r\n    if (!ValidateFrameOptions(options)) {\r\n      return;\r\n    }\r\n    return this;\r\n  }\r\n  EnterCurve(enterCurve) {\r\n    this.enterCurve = enterCurve;\r\n    return this;\r\n  }\r\n  ExitCurve(exitCurve) {\r\n    this.exitCurve = exitCurve;\r\n    return this;\r\n  }\r\n  Flat(flat) {\r\n    this.flat = flat;\r\n    return this;\r\n  }\r\n  Smooth(value) {\r\n    this.smooth = value;\r\n    return this;\r\n  }\r\n  //The time taken to transition from the prior frame to this frame\r\n  Duration(duration) {\r\n    this.duration = duration;\r\n    return this;\r\n  }\r\n  onComplete(complete) {\r\n    this.complete = complete;\r\n    return this;\r\n  }\r\n  onUpdate(update) {\r\n    this.update = update;\r\n    return this;\r\n  }\r\n};"]}